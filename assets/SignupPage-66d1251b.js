import{u as x,r as c,j as n,F as h,s as m,a as g,T as S,L as F,b as V,E as b,c as E,d as w,I as f,e as I,S as M,f as $,G as T,g as B,h as G,i as L,k as O,M as C,V as D}from"./index-53f24837.js";const d={name:"",email:"",password:""},R=()=>{const i=x(),[r,t]=c.useState("password"),u=({values:e,errors:a,key:s})=>{const l=!e[s]&&"noValue",o=a[s]?"error":"success";return l||o},p=({errors:e,values:a})=>{const s=Object.keys(e).length;return Object.keys(a).some(o=>!a[o])||s},j=(e,a)=>{i(B(e)).unwrap().catch(s=>s.includes("401")&&G.error("Unauthorized")),a.resetForm()};return n.jsx(h,{initialValues:d,validationSchema:m,onSubmit:j,children:({values:e,errors:a})=>n.jsxs(g,{children:[n.jsxs(S,{children:[n.jsx("h2",{children:"Sign up"}),n.jsx(F,{to:"/signin",children:"Have an account?"})]}),Object.keys(d).map(s=>n.jsxs(c.Fragment,{children:[n.jsxs(V,{children:[s.at(0).toUpperCase()+s.substring(1),n.jsx("pre",{children:" "}),n.jsx(b,{name:s,component:"span"})]}),n.jsxs(E,{children:[n.jsx(w,{type:s==="password"?r:s,name:s,$validation:u({values:e,errors:a,key:s})}),s==="password"&&n.jsx(f,{toggle:r,setToggle:t}),e[s]&&a[s]&&n.jsx(I,{}),e[s]&&!a[s]&&n.jsx(M,{})]})]},s)),n.jsx($,{disabled:p({values:e,errors:a}),children:"Sign up"}),n.jsx(T,{children:"Sign up with Google"})]})})},W=()=>{const{user:i}=L(),[r,t]=c.useState(i.email&&!i.verifiedEmail);return n.jsxs(O,{$w:"400px",$p:"0",$fd:"column",$jc:"center",children:[n.jsx(R,{}),r&&n.jsx(C,{onClick:()=>t(!r),children:n.jsx(D,{userEmail:i.email})})]})};export{W as default};
