import{P as l,l as w,u as F,r as p,j as s,F as P,m as S,a as T,T as E,b as $,E as f,c as V,d as R,I,e as O,S as q,f as B,n as D,h as W,o as v,k as C}from"./index-12dcc9c3.js";const h={newPass:"",confirmPass:""},u=({id:t,pwdToken:r})=>{const o=w(),x=F(),[i,j]=p.useState("password"),m=({values:n,errors:a,key:e})=>{const d=!n[e]&&"noValue",c=a[e]?"error":"success";return d||c},g=({errors:n,values:a})=>{const e=Object.keys(n).length;return Object.keys(a).some(c=>!a[c])||e},b=n=>{x(D({...n,id:t,pwdToken:r})).unwrap().then(()=>o("/signin",{replace:!0})).catch(a=>W.error(a.message))};return s.jsx(P,{initialValues:h,validationSchema:S,onSubmit:b,children:({values:n,errors:a})=>s.jsxs(T,{children:[s.jsx(E,{children:s.jsx("h2",{children:"Reset password"})}),Object.keys(h).map(e=>s.jsxs(p.Fragment,{children:[s.jsxs($,{children:[e.at(0).toUpperCase()+e.replace("Pass"," password").substring(1),s.jsx("pre",{children:" "}),s.jsx(f,{name:e,component:"span"})]}),s.jsxs(V,{children:[s.jsx(R,{type:i,name:e,$validation:m({values:n,errors:a,key:e})}),s.jsx(I,{toggle:i,setToggle:j}),n[e]&&a[e]&&s.jsx(O,{}),n[e]&&!a[e]&&s.jsx(q,{})]})]},e)),s.jsx(B,{disabled:g({values:n,errors:a}),children:"Submit"})]})})};u.propTypes={id:l.string.isRequired,pwdToken:l.string.isRequired};const M=()=>{const[t]=v(),r=t.get("id"),o=t.get("pwd_token");return s.jsx(C,{$w:"400px",$h:"100vh",$p:"0",$d:"flex",$fd:"column",$jc:"center",children:s.jsx(u,{id:r,pwdToken:o})})};export{M as default};
